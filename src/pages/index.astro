---
import Layout from "../layouts/Layout.astro";

//Componentes
import Header from "../components/header.astro";
import Home from "../pages/Home.astro";
import Education from "../pages/Education.astro";
import Services from "../pages/Services.astro";
import Testimonials from "../pages/Testimonials.astro";
import Contact from "../pages/Contact.astro";
import Footer from "../components/footer.astro";
---

<Layout title="Portfolio">
    <Header />
    <Home />
    <Education />
    <Services />
    <Testimonials />
    <Contact />
    <Footer />
</Layout>

<script>
    let menuIcon = document.querySelector("#menu-icon") as HTMLElement;
    let navbar = document.querySelector(".navbar") as HTMLElement;
    let sections = document.querySelectorAll("section");
    let navLinks = document.querySelectorAll(".header nav a");

    window.onscroll = () => {
        sections.forEach((sec) => {
            const section = sec as HTMLElement;

            let top = window.scrollY;
            let offset = section.offsetTop - 150;
            let height = section.offsetHeight;
            let id = sec.getAttribute;

            if (top >= offset && top < offset + height) {
                navLinks.forEach((links) => {
                    links.classList.remove("active");
                    document
                        .querySelector("header nav a [href*=" + id + "]")
                        ?.classList.add("active");
                });
            }
        });
    };

    menuIcon.onclick = () => {
        menuIcon.classList.toggle("bx-x");
        navbar.classList.toggle("active");
    };
</script>
